{"version":3,"sources":["utils/index.js","components/MixedChart.js","components/Card.js","components/Notification.js","components/AppBar.js","components/AverageChart.js","components/Test.js","Main.js","components/ToastMessage.js","components/SignIn.js","App.js","serviceWorker.js","index.js"],"names":["CONSTANT_TYPE","CONSTANT_TYPE_AVG","setToken","value","tokenKey","localStorage","setItem","JSON","stringify","getToken","getItem","parse","clearToken","removeItem","MixedChart","dataset","category","didUpdateRef","useRef","useState","chart","id","animations","enabled","easing","speed","dynamicAnimation","stroke","curve","xaxis","categories","options","setOptions","name","data","series","setSeries","useEffect","current","newOptions","currentCategories","newSeries","push","length","shift","map","itemData","itemName","toLowerCase","type","accumulator","lowerCaseName","updateData","handleUpdateData","Card","title","content","footer","color","status","warning","ICONS","style","fontSize","Pin","Paper","className","elevation","background","Page","props","Message","message","startsWith","addNotification","subtitle","theme","native","key","console","log","auth","useStyles","makeStyles","root","flexGrow","menuButton","marginRight","spacing","withRouter","classes","React","setAuth","AppBar","position","Toolbar","IconButton","edge","aria-label","Typography","variant","FormGroup","FormControlLabel","control","Switch","checked","onChange","event","target","label","Button","onClick","history","marginTop","Notification","burnNode1","burnNode2","timbersawNode1","timbersawNode2","AverageChart","newData","list","width","fullList","styles","margin","marginBottom","marginLeft","maxWidth","AverageChartGroup","Grid","container","justify","alignItems","el","idx","item","xs","sm","md","textAlign","paddingTop","TemporaryDrawer","anchor","avgDailyData","ws","bottom","state","setState","toggleDrawer","open","send","error","sendMessage","Fragment","fontWeight","Drawer","onClose","clsx","role","onKeyDown","Main","timeout","connect","connectInterval","WebSocket","that","onopen","clearTimeout","onclose","e","Math","min","reason","setTimeout","check","onmessage","evt","handleSetState","onerror","err","close","readyState","CLOSED","valueNode1","valueNode2","clonedData","dataMessage","newAvgData","avgTemperature","avgGas","newCategory","time","dataItem","date","newDataItem","typeItem","keyOfValue","logout","handleTrigger","dataNode1","dataNode2","isOverTemperatureNode1","temperature","isOverTemperatureNode2","isOverGasNode1","gas","isOverGasNode2","timbersaw","trigger","setPlay","battery","this","prevProps","prevState","mainContainer","d","Component","ChartGroup","withStyles","justifyContent","paper","SimpleDialog","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","Copyright","align","Link","href","Date","getFullYear","display","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","email","setEmail","password","setPassword","setOpen","handleChange","persist","throwErr","Error","handleSubmit","a","preventDefault","redirectUser","path","Container","component","CssBaseline","Avatar","noValidate","onSubmit","TextField","required","fullWidth","autoComplete","autoFocus","Box","mt","PrivateRoute","rest","render","to","pathname","from","location","PrivateRouteSigned","App","SignIn","exact","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.ec74e0ec.chunk.js","sourcesContent":["const TOKEN_KEY = \"jwt\";\r\n\r\nexport const CONSTANT_TYPE = [\"gas\", \"temperature\", \"battery\", \"timbersaw\"];\r\nexport const CONSTANT_TYPE_AVG = [\"avggas\", \"avgtemperature\"];\r\n\r\n// Authe\r\n\r\nexport const setToken = (value, tokenKey = TOKEN_KEY) => {\r\n\tif (localStorage) {\r\n\t\tlocalStorage.setItem(tokenKey, JSON.stringify(value));\r\n\t}\r\n};\r\n\r\nexport const getToken = (tokenKey = TOKEN_KEY) => {\r\n\tif (localStorage && localStorage.getItem(tokenKey)) {\r\n\t\treturn JSON.parse(localStorage.getItem(tokenKey));\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nexport const clearToken = (tokenKey = TOKEN_KEY) => {\r\n\tif (localStorage) {\r\n\t\tlocalStorage.removeItem(tokenKey);\r\n\t}\r\n};\r\n\r\nexport const logs = (variable) => {\r\n\tconsole.log(`:::: ${variable} ::::`, variable);\r\n};\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport { CONSTANT_TYPE } from \"../utils/index\";\r\n\r\nconst MixedChart = ({ dataset, category }) => {\r\n\tconst initOptions = {\r\n\t\tchart: {\r\n\t\t\tid: \"daily-chart\",\r\n\t\t\tanimations: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\teasing: \"linear\",\r\n\t\t\t\tspeed: 1000,\r\n\t\t\t\tdynamicAnimation: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tstroke: {\r\n\t\t\tcurve: \"smooth\",\r\n\t\t},\r\n\t\txaxis: {\r\n\t\t\tcategories: [\"\"],\r\n\t\t},\r\n\t};\r\n\tconst initSeries = [\r\n\t\t{\r\n\t\t\tname: \"Gas\",\r\n\t\t\tdata: [],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Temperature\",\r\n\t\t\tdata: [],\r\n\t\t},\r\n\t];\r\n\tconst didUpdateRef = useRef(false);\r\n\tconst [options, setOptions] = useState(initOptions);\r\n\tconst [series, setSeries] = useState(initSeries);\r\n\r\n\tconst updateData = ({ data, name, accumulator, dataset }) => {\r\n\t\tconst lowerCaseName = name.toLowerCase();\r\n\t\t// if (dataset[lowerCaseName] !== \"\") {\r\n\t\t// \tdata.push(dataset[lowerCaseName]);\r\n\t\t// \tdata.length > 10 && data.shift();\r\n\t\t// \taccumulator.push({ data, name });\r\n\t\t// }\r\n\t\tdata.push(dataset[lowerCaseName]);\r\n\t\tdata.length > 10 && data.shift();\r\n\t\taccumulator.push({ data, name });\r\n\t};\r\n\r\n\tconst handleUpdateData = () => {\r\n\t\tif (dataset[\"gas\"] !== \"\") {\r\n\t\t\tconst newOptions = { ...options };\r\n\t\t\tconst currentCategories = newOptions.xaxis.categories;\r\n\r\n\t\t\tlet newSeries = [];\r\n\t\t\tcurrentCategories.push(category);\r\n\t\t\tcurrentCategories.length > 10 && currentCategories.shift();\r\n\t\t\tseries.map(({ data: itemData, name: itemName }) => {\r\n\t\t\t\tconst data = [...itemData];\r\n\t\t\t\tconst name = itemName.toLowerCase();\r\n\t\t\t\tCONSTANT_TYPE.map((type) => {\r\n\t\t\t\t\ttype === name &&\r\n\t\t\t\t\t\tupdateData({\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\tname: itemName,\r\n\t\t\t\t\t\t\taccumulator: newSeries,\r\n\t\t\t\t\t\t\tdataset,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tsetOptions(newOptions);\r\n\t\t\tsetSeries(newSeries);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (didUpdateRef.current) {\r\n\t\t\thandleUpdateData();\r\n\t\t} else didUpdateRef.current = true;\r\n\t}, [category]);\r\n\r\n\treturn <Chart options={options} series={series} type=\"line\" />;\r\n};\r\n\r\nexport default MixedChart;\r\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport \"../assets/css/styles.css\";\r\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\r\nimport BeenhereIcon from \"@material-ui/icons/Beenhere\";\r\nimport BatteryCharging90Icon from \"@material-ui/icons/BatteryCharging90\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport SpaIcon from \"@material-ui/icons/Spa\";\r\nconst Card = ({\r\n\ttitle,\r\n\tcontent,\r\n\tfooter,\r\n\tcolor,\r\n\tstatus = false,\r\n\twarning = false,\r\n}) => {\r\n\tconst UNITS = {\r\n\t\t\"Nhiệt độ\": \" °C\",\r\n\t\t\"Nồng độ CO\": \" %\",\r\n\t\tPin: \" %\",\r\n\t\t\"Trộm gỗ\": \"\",\r\n\t};\r\n\tconst ICONS = {\r\n\t\t\"Nhiệt độ\": () => <WhatshotIcon style={{ fontSize: 40, color: \"#fff\" }} />,\r\n\t\t\"Nồng độ CO\": () => (\r\n\t\t\t<FavoriteBorderIcon style={{ fontSize: 40, color: \"#fff\" }} />\r\n\t\t),\r\n\t\tPin: () => (\r\n\t\t\t<BatteryCharging90Icon style={{ fontSize: 40, color: \"#fff\" }} />\r\n\t\t),\r\n\t\t\"Trộm gỗ\": () => <SpaIcon style={{ fontSize: 40, color: \"#fff\" }} />,\r\n\t};\r\n\treturn (\r\n\t\t<Paper className=\"card-container\" elevation={4}>\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t<div className=\"card card-left\">\r\n\t\t\t\t\t<div className=\"card-left-icon\" style={{ background: color }}>\r\n\t\t\t\t\t\t{ICONS[title]()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card card-right\">\r\n\t\t\t\t\t<p className=\"card-left-title\">{title}</p>\r\n\t\t\t\t\t<p className=\"card-left-content\">\r\n\t\t\t\t\t\t{status\r\n\t\t\t\t\t\t\t? content === \"1\"\r\n\t\t\t\t\t\t\t\t? \"Trạng thái tốt\"\r\n\t\t\t\t\t\t\t\t: \"Trạng thái xấu\"\r\n\t\t\t\t\t\t\t: content || \"0\"}\r\n\t\t\t\t\t\t{UNITS[title]}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<div className=\"footer-wrapper\">\r\n\t\t\t\t\t{warning ? (\r\n\t\t\t\t\t\t<ErrorOutlineIcon style={{ color: \"#fb8c00\" }} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<BeenhereIcon style={{ color: \"#43a047\" }} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<span className=\"footer-content\">{footer}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport addNotification from \"react-push-notification\";\r\n\r\nconst Page = (props) => {\r\n\tconst Message = (title) => {\r\n\t\tconst message = title.startsWith(\"burn\")\r\n\t\t\t? \"Đang phát hiện cháy\"\r\n\t\t\t: \"Đang phát hiện hiện tượng trộm gỗ\";\r\n\t\taddNotification({\r\n\t\t\ttitle: \"Cảnh báo tại Trạm \" + title[title.length - 1],\r\n\t\t\tsubtitle: \"Nguy hiểm! Nguy hiểm!\",\r\n\t\t\tmessage,\r\n\t\t\ttheme: \"darkblue\",\r\n\t\t\tnative: true, // when using native, your OS will handle theming.\r\n\t\t});\r\n\t};\r\n\tconsole.log(\"props auth\", props.auth);\r\n\t// { burnNode1, burnNode2, timbersawNode1, timbersawNode2 }\r\n\tfor (const key in props) {\r\n\t\tif (key === \"auth\") continue;\r\n\t\tif (props.auth) {\r\n\t\t\tprops[key] && Message(key);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"notification is turned off\");\r\n\t\t}\r\n\t}\r\n\t// trigger && Message();\r\n\treturn <div>con cac</div>;\r\n};\r\n\r\nexport default Page;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport SpaIcon from \"@material-ui/icons/Spa\";\r\n\r\nimport Notification from \"./Notification\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { clearToken } from \"../utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n}));\r\n\r\nfunction MainAppBar(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [auth, setAuth] = React.useState(true);\r\n\tconst logout = () => {\r\n\t\t//clear token\r\n\t\tclearToken();\r\n\t\t//redirect home page\r\n\t\tprops.history.push(\"/\");\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetAuth(event.target.checked);\r\n\t};\r\n\r\n\tconsole.log(\"auth...\", auth);\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<AppBar position=\"fixed\">\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SpaIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\tBảng thông tin\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={auth}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\taria-label=\"login switch\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={auth ? \"Tắt thông báo\" : \"Bật thông báo\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<Button color=\"inherit\" onClick={logout}>\r\n\t\t\t\t\t\t<span style={{ marginTop: 7, marginRight: 7 }}>\r\n\t\t\t\t\t\t\t<AccountCircle />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\tĐăng xuất\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Notification\r\n\t\t\t\tauth={auth}\r\n\t\t\t\tburnNode1={props.burnNode1}\r\n\t\t\t\tburnNode2={props.burnNode2}\r\n\t\t\t\ttimbersawNode1={props.timbersawNode1}\r\n\t\t\t\ttimbersawNode2={props.timbersawNode2}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(MainAppBar);\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport { CONSTANT_TYPE_AVG } from \"../utils/index\";\r\n\r\nconst AverageChart = ({ dataset, category }) => {\r\n\tconst initOptions = {\r\n\t\tchart: {\r\n\t\t\tid: \"avg-chart\",\r\n\t\t\tanimations: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\teasing: \"linear\",\r\n\t\t\t\tspeed: 1000,\r\n\t\t\t\tdynamicAnimation: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tstroke: {\r\n\t\t\tcurve: \"smooth\",\r\n\t\t},\r\n\t\txaxis: {\r\n\t\t\tcategories: [\"\"],\r\n\t\t},\r\n\t};\r\n\tconst initSeries = [\r\n\t\t{\r\n\t\t\tname: \"avgGas\",\r\n\t\t\tdata: [],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"avgTemperature\",\r\n\t\t\tdata: [],\r\n\t\t},\r\n\t];\r\n\tconst didUpdateRef = useRef(false);\r\n\tconst [options, setOptions] = useState(initOptions);\r\n\tconst [series, setSeries] = useState(initSeries);\r\n\r\n\tconst handleUpdateData = () => {\r\n\t\tlet newOptions = { ...options };\r\n\t\tlet newSeries = [];\r\n\t\tnewOptions.xaxis.categories.length = 0;\r\n\t\tnewOptions.xaxis.categories.push(...category);\r\n\t\tseries.map(({ name: itemName, data }) => {\r\n\t\t\tconst name = itemName.toLowerCase();\r\n\t\t\tCONSTANT_TYPE_AVG.map((type) => {\r\n\t\t\t\tif (type === name) {\r\n\t\t\t\t\tconst newData = [...dataset[itemName]];\r\n\t\t\t\t\tnewSeries.push({ data: newData, name: itemName });\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tsetOptions(newOptions);\r\n\t\tsetSeries(newSeries);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (didUpdateRef.current) {\r\n\t\t\thandleUpdateData();\r\n\t\t} else didUpdateRef.current = true;\r\n\t}, [category]);\r\n\treturn <Chart options={options} series={series} type=\"line\" />;\r\n};\r\n\r\nexport default AverageChart;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport \"../assets/css/styles.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\n\r\nimport AverageChart from \"./AverageChart\";\r\n\r\nconst useStyles = makeStyles({\r\n\tlist: {\r\n\t\twidth: 250,\r\n\t},\r\n\tfullList: {\r\n\t\twidth: \"auto\",\r\n\t},\r\n});\r\n\r\nconst styles = {\r\n\tmargin: \"auto\",\r\n\tmarginBottom: 15,\r\n\tmarginTop: 20,\r\n\tmarginLeft: 15,\r\n\tmarginRight: 25,\r\n\tmaxWidth: 430,\r\n};\r\n\r\nconst bottom = \"bottom\";\r\n\r\nconst AverageChartGroup = ({ data, title, category }) => {\r\n\treturn (\r\n\t\t<Grid container justify=\"space-evenly\" alignItems=\"center\">\r\n\t\t\t{data.map((el, idx) => (\r\n\t\t\t\t<Grid key={idx} item xs={10} sm={6} md={5}>\r\n\t\t\t\t\t<h4 style={{ textAlign: \"center\", paddingTop: 20 }}>{`${title} ${\r\n\t\t\t\t\t\tidx + 1\r\n\t\t\t\t\t}`}</h4>\r\n\t\t\t\t\t<Paper elevation={5} style={styles}>\r\n\t\t\t\t\t\t<AverageChart category={category} dataset={el} />\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t))}\r\n\t\t</Grid>\r\n\t);\r\n};\r\n\r\nexport default function TemporaryDrawer({ avgDailyData, ws }) {\r\n\tconst classes = useStyles();\r\n\tconst [state, setState] = React.useState({\r\n\t\tbottom: false,\r\n\t});\r\n\tconst handleSendMessage = () => {\r\n\t\tconst sendMessage = () => {\r\n\t\t\ttry {\r\n\t\t\t\tws.send(\"getAvgData\"); //send data to the server\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error); // catch error\r\n\t\t\t}\r\n\t\t};\r\n\t\tsendMessage();\r\n\t};\r\n\tconst toggleDrawer = (anchor, open) => (event) => {\r\n\t\tif (\r\n\t\t\tevent.type === \"keydown\" &&\r\n\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thandleSendMessage();\r\n\t\tsetState({ ...state, [anchor]: open });\r\n\t};\r\n\r\n\tconst list = (anchor) => (\r\n\t\t<div\r\n\t\t\tclassName={clsx(classes.list, {\r\n\t\t\t\t[classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\r\n\t\t\t})}\r\n\t\t\trole=\"presentation\"\r\n\t\t\tonClick={toggleDrawer(anchor, false)}\r\n\t\t\tonKeyDown={toggleDrawer(anchor, false)}\r\n\t\t>\r\n\t\t\t<AverageChartGroup\r\n\t\t\t\tdata={avgDailyData.data}\r\n\t\t\t\tcategory={avgDailyData.category}\r\n\t\t\t\ttitle=\"Biểu đồ giá trị trung bình Trạm\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid\r\n\t\t\t\tclassName=\"expand-button\"\r\n\t\t\t\tonClick={toggleDrawer(bottom, true)}\r\n\t\t\t\titem\r\n\t\t\t\txs={10}\r\n\t\t\t\tsm={6}\r\n\t\t\t\tmd={5}\r\n\t\t\t>\r\n\t\t\t\t<KeyboardArrowUpIcon style={{ fontSize: 60 }} />\r\n\t\t\t\t<span style={{ margin: \"-15px 0 10px 0\", fontWeight: \"600\" }}>\r\n\t\t\t\t\tXem Giá Trị Trung Bình\r\n\t\t\t\t</span>\r\n\t\t\t</Grid>\r\n\t\t\t<div></div>\r\n\t\t\t{/* <Button variant=\"contained\" onClick={toggleDrawer(bottom, true)}>\r\n\t\t\t\t\r\n\t\t\t\t{bottom}\r\n\t\t\t</Button> */}\r\n\t\t\t<Drawer\r\n\t\t\t\tanchor={bottom}\r\n\t\t\t\topen={state[bottom]}\r\n\t\t\t\tonClose={toggleDrawer(bottom, false)}\r\n\t\t\t>\r\n\t\t\t\t{list(bottom)}\r\n\t\t\t</Drawer>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./assets/css/styles.css\";\r\nimport MixedChart from \"./components/MixedChart\";\r\n// import { AudioPlayerProvider } from \"react-use-audio-player\";\r\n// import AudioP from \"./components/Audio\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import WARNING from \"./warning.mp3\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"./components/Card\";\r\nimport AppBar from \"./components/AppBar\";\r\nimport Test from \"./components/Test\";\r\n\r\nimport { CONSTANT_TYPE, CONSTANT_TYPE_AVG, clearToken } from \"./utils\";\r\n\r\n// const url = \"ws://localhost:3300/\";\r\nconst url = \"ws://45.119.83.67:3300/\";\r\nconst useStyles = (theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\tpaper: {\r\n\t\tmargin: \"auto\",\r\n\t\tmarginBottom: 15,\r\n\t\tmarginTop: 20,\r\n\t\tmaxWidth: 430,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmainContainer: {\r\n\t\tmarginTop: 56,\r\n\t},\r\n});\r\n\r\nclass Main extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tws: null,\r\n\t\t\tcategory: \"\",\r\n\t\t\tdata: [\r\n\t\t\t\t{ id: \"Node1\", gas: \"\", temperature: \"\", battery: \"\" },\r\n\t\t\t\t{ id: \"Node2\", gas: \"\", temperature: \"\", battery: \"\" },\r\n\t\t\t],\r\n\t\t\tavgDailyData: {\r\n\t\t\t\tcategory: [],\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{ id: \"Node1\", avgTemperature: [\"\"], avgGas: [\"\"] },\r\n\t\t\t\t\t{ id: \"Node2\", avgTemperature: [\"\"], avgGas: [\"\"] },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\ttrigger: {\r\n\t\t\t\tburnNode1: false,\r\n\t\t\t\tburnNode2: false,\r\n\t\t\t\ttimbersawNode1: false,\r\n\t\t\t\ttimbersawNode2: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.connect();\r\n\t\tthis.handleTrigger();\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.data[0].gas !== this.state.data[0].gas) {\r\n\t\t\tthis.handleTrigger();\r\n\t\t}\r\n\t}\r\n\r\n\ttimeout = 250; // Initial timeout duration as a class variable\r\n\r\n\tconnect = () => {\r\n\t\tvar ws = new WebSocket(url);\r\n\t\tlet that = this; // cache the this\r\n\t\tvar connectInterval;\r\n\r\n\t\t// websocket onopen event listener\r\n\t\tws.onopen = () => {\r\n\t\t\tconsole.log(\"connected websocket main component\");\r\n\r\n\t\t\tthis.setState({ ws });\r\n\r\n\t\t\tthat.timeout = 250; // reset timer to 250 on open of websocket connection\r\n\t\t\tclearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n\t\t};\r\n\r\n\t\t// websocket onclose event listener\r\n\t\tws.onclose = (e) => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t`Socket is closed. Reconnect will be attempted in ${Math.min(\r\n\t\t\t\t\t10000 / 1000,\r\n\t\t\t\t\t(that.timeout + that.timeout) / 1000\r\n\t\t\t\t)} second.`,\r\n\t\t\t\te.reason\r\n\t\t\t);\r\n\r\n\t\t\tthat.timeout = that.timeout + that.timeout; //increment retry interval\r\n\t\t\tconnectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\r\n\t\t};\r\n\r\n\t\tws.onmessage = (evt) => {\r\n\t\t\tthis.handleSetState(evt.data);\r\n\t\t};\r\n\r\n\t\t// websocket onerror event listener\r\n\t\tws.onerror = (err) => {\r\n\t\t\tconsole.error(\r\n\t\t\t\t\"Socket encountered error: \",\r\n\t\t\t\terr.message,\r\n\t\t\t\t\"Closing socket\"\r\n\t\t\t);\r\n\r\n\t\t\tws.close();\r\n\t\t};\r\n\t};\r\n\r\n\tcheck = () => {\r\n\t\tconst { ws } = this.state;\r\n\t\tif (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\r\n\t};\r\n\r\n\thandleUpdateData = ({ type, valueNode1, valueNode2, category, newData }) => {\r\n\t\tlet clonedData = [];\r\n\t\tif (valueNode1 === \"\") {\r\n\t\t\tclonedData.push({ ...newData[0] }, { ...newData[1], [type]: valueNode2 });\r\n\t\t} else {\r\n\t\t\tclonedData.push({ ...newData[0], [type]: valueNode1 }, { ...newData[1] });\r\n\t\t}\r\n\r\n\t\tnewData = [...clonedData];\r\n\t\treturn [newData, category];\r\n\t};\r\n\r\n\thandleSetState = (message) => {\r\n\t\tconst dataMessage = JSON.parse(message);\r\n\t\tlet newAvgData = [\r\n\t\t\t{\r\n\t\t\t\tid: \"Node1\",\r\n\t\t\t\tavgTemperature: [],\r\n\t\t\t\tavgGas: [],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: \"Node2\",\r\n\t\t\t\tavgTemperature: [],\r\n\t\t\t\tavgGas: [],\r\n\t\t\t},\r\n\t\t];\r\n\t\tlet newData = [...this.state.data];\r\n\t\tlet category = \"\";\r\n\t\tlet newCategory = [];\r\n\t\tif (dataMessage[0] !== null) {\r\n\t\t\tif (dataMessage[0] !== \"getAvgData\") {\r\n\t\t\t\tdataMessage.map(({ type, time, valueNode1, valueNode2 }) => {\r\n\t\t\t\t\tCONSTANT_TYPE.map((item) => {\r\n\t\t\t\t\t\tif (item === type) {\r\n\t\t\t\t\t\t\t[newData, category] = this.handleUpdateData({\r\n\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\tvalueNode1,\r\n\t\t\t\t\t\t\t\tvalueNode2,\r\n\t\t\t\t\t\t\t\tcategory: time,\r\n\t\t\t\t\t\t\t\tnewData,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcategory,\r\n\t\t\t\t\tdata: newData,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"data received: \", message);\r\n\t\t\t\tdataMessage[1].map((dataItem) => {\r\n\t\t\t\t\tnewCategory.length < dataMessage[1].length / 2 &&\r\n\t\t\t\t\t\tnewCategory.push(dataItem.date);\r\n\t\t\t\t\tnewAvgData.map((newDataItem) => {\r\n\t\t\t\t\t\tCONSTANT_TYPE_AVG.map((typeItem) => {\r\n\t\t\t\t\t\t\tif (typeItem === dataItem.type.toLowerCase()) {\r\n\t\t\t\t\t\t\t\tconst keyOfValue = `value${newDataItem.id}`; // -> valueNode1 or valueNode2\r\n\t\t\t\t\t\t\t\tnewDataItem[dataItem.type].push(dataItem[keyOfValue]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tavgDailyData: {\r\n\t\t\t\t\t\tcategory: newCategory,\r\n\t\t\t\t\t\tdata: newAvgData,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlogout = () => {\r\n\t\t//clear token\r\n\t\tclearToken();\r\n\t\t//redirect home page\r\n\t\tthis.props.history.push(\"/\");\r\n\t};\r\n\r\n\thandleTrigger = () => {\r\n\t\tconst dataNode1 = this.state.data[0];\r\n\t\tconst dataNode2 = this.state.data[1];\r\n\t\tconst thresholdTemp = 60;\r\n\t\tconst thresholdGas = 15;\r\n\r\n\t\tconst isOverTemperatureNode1 = +dataNode1.temperature >= thresholdTemp;\r\n\t\tconst isOverTemperatureNode2 = +dataNode2.temperature >= thresholdTemp;\r\n\t\tconst isOverGasNode1 = +dataNode1.gas >= thresholdGas;\r\n\t\tconst isOverGasNode2 = +dataNode2.gas >= thresholdGas;\r\n\r\n\t\tconst timbersawNode1 = +dataNode1.timbersaw;\r\n\t\tconst timbersawNode2 = +dataNode2.timbersaw;\r\n\t\tconst burnNode1 = isOverGasNode1 || isOverTemperatureNode1;\r\n\t\tconst burnNode2 = isOverGasNode2 || isOverTemperatureNode2;\r\n\r\n\t\tconsole.log(\"node1: \", +dataNode1.temperature, +dataNode1.gas);\r\n\t\tconsole.log({ burnNode1, burnNode2, timbersawNode1, timbersawNode2 });\r\n\t\tthis.setState({\r\n\t\t\ttrigger: {\r\n\t\t\t\tburnNode1,\r\n\t\t\t\tburnNode2,\r\n\t\t\t\ttimbersawNode1,\r\n\t\t\t\ttimbersawNode2,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tsetPlay = () => this.setState({ trigger: false });\r\n\trender() {\r\n\t\tconst { ws, category, data, avgDailyData, trigger } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tburnNode1={trigger.burnNode1}\r\n\t\t\t\t\tburnNode2={trigger.burnNode2}\r\n\t\t\t\t\ttimbersawNode1={trigger.timbersawNode1}\r\n\t\t\t\t\ttimbersawNode2={trigger.timbersawNode2}\r\n\t\t\t\t/>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.mainContainer}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustify=\"space-evenly\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item md={10}>\r\n\t\t\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t\t\t{data.map((d, idx) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={idx}>\r\n\t\t\t\t\t\t\t\t\t<Grid container alignItems=\"center\" justify=\"space-evenly\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"card-title-node\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\"Trạng thái Trạm \" + (idx + 1)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid md={3} sm={6} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\"Nhiệt độ\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={d.temperature}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.temperature >= 60\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Nhiệt độ đang bất thường\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Nhiệt độ đang ổn định\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twarning={d.temperature >= 60}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"linear-gradient(60deg, #ffa726, #fb8c00)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid md={3} sm={6} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\"Nồng độ CO\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={d.gas}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.gas >= 60\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Nồng độ CO đang bất thường\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Nồng độ CO đang ổn định\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twarning={d.gas >= 60}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"linear-gradient(60deg, #92ABC1, #6C757D)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid md={3} sm={6} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\"Pin\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={d.battery}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.battery <= 40\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Năng lượng thấp, cần sạc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Năng lượng ổn định\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twarning={d.battery <= 40}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"linear-gradient(60deg, #26c6da, #00acc1)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid md={3} sm={6} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\"Trộm gỗ\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={d.timbersaw}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.timbersaw === \"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Khu rừng an toàn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Khu rừng đang bị đe dọa\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"linear-gradient(60deg, #ef5350, #e53935)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstatus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twarning={d.timbersaw === \"0\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<Grid className=\"chart-container\" container>\r\n\t\t\t\t\t\t\t\t<ChartGroup\r\n\t\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\t\tcategory={category}\r\n\t\t\t\t\t\t\t\t\ttitle=\"Biểu đồ hiển thị Trạm\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Test avgDailyData={avgDailyData} ws={ws} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <button onClick={this.setPlay}>{trigger ? \"Play\" : \"Pause\"}</button>\r\n\t\t\t\t<AudioPlayerProvider>\r\n\t\t\t\t\t<AudioP file={WARNING} trigger={trigger} />\r\n\t\t\t\t</AudioPlayerProvider> */}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst styles = {\r\n\tmargin: \"auto\",\r\n\tmarginBottom: 15,\r\n\tmarginTop: 20,\r\n\tmarginLeft: 15,\r\n\tmarginRight: 25,\r\n\tmaxWidth: 430,\r\n};\r\n\r\nconst ChartGroup = ({ data, title, category }) => {\r\n\treturn (\r\n\t\t<Grid container justify=\"space-evenly\" alignItems=\"center\">\r\n\t\t\t{data.map((el, idx) => (\r\n\t\t\t\t<Grid key={idx} item xs={10} sm={6} md={5}>\r\n\t\t\t\t\t<h4 style={{ textAlign: \"center\" }}>{`${title} ${idx + 1}`}</h4>\r\n\t\t\t\t\t<Paper elevation={4} style={styles}>\r\n\t\t\t\t\t\t<MixedChart category={category} dataset={el} />\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t))}\r\n\t\t</Grid>\r\n\t);\r\n};\r\n\r\nexport default withRouter(withStyles(useStyles)(Main));\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n\r\nexport default function SimpleDialog({ open }) {\r\n\treturn (\r\n\t\t<Dialog aria-labelledby=\"simple-dialog-title\" open={open}>\r\n\t\t\t<DialogTitle>Thông tin đăng nhập sai</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText>\r\n\t\t\t\t\tSai tài khoản hoặc mật khẩu. Vui lòng thử lại!\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { setToken } from \"../utils\";\r\n\r\nimport ToastMessage from \"./ToastMessage\";\r\n\r\nfunction Copyright() {\r\n\treturn (\r\n\t\t<Typography\r\n\t\t\tvariant=\"body2\"\r\n\t\t\tcolor=\"textSecondary\"\r\n\t\t\talign=\"center\"\r\n\t\t\tstyle={{ marginBottom: 27 }}\r\n\t\t>\r\n\t\t\t{\"Copyright © \"}\r\n\t\t\t<Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n\t\t\t\tEnd Game HCMUTE\r\n\t\t\t</Link>{\" \"}\r\n\t\t\t{new Date().getFullYear()}\r\n\t\t\t{\".\"}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\nfunction SignIn(props) {\r\n\tconst classes = useStyles();\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tevent.persist();\r\n\t\tevent.target.name === \"email\"\r\n\t\t\t? setEmail(event.target.value)\r\n\t\t\t: setPassword(event.target.value);\r\n\t};\r\n\tconst throwErr = () => {\r\n\t\tthrow new Error(\"dm sai pass roi`\");\r\n\t};\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\ttry {\r\n\t\t\temail === \"admin\" && password === \"admin\"\r\n\t\t\t\t? redirectUser(\"/app\")\r\n\t\t\t\t: throwErr();\r\n\t\t\tconst jwt = \"okdone\";\r\n\t\t\tsetToken(jwt);\r\n\t\t} catch (err) {\r\n\t\t\tsetOpen(true);\r\n\t\t\tsetTimeout(() => setOpen(false), 3000);\r\n\t\t}\r\n\t};\r\n\tconst redirectUser = (path) => props.history.push(path);\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\" className=\"signin-container\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tSign in\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Box mt={8}>\r\n\t\t\t\t\t\t<Copyright />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<ToastMessage open={open} />\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SignIn);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRoute,\r\n\tRedirect,\r\n} from \"react-router-dom\";\r\nimport Main from \"./Main\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport { getToken } from \"./utils\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n\t<Route\r\n\t\t{...rest}\r\n\t\trender={(props) =>\r\n\t\t\tgetToken() !== null ? (\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t) : (\r\n\t\t\t\t<Redirect\r\n\t\t\t\t\tto={{\r\n\t\t\t\t\t\tpathname: \"/\",\r\n\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t/>\r\n);\r\nconst PrivateRouteSigned = ({ component: Component, ...rest }) => (\r\n\t<Route\r\n\t\t{...rest}\r\n\t\trender={(props) =>\r\n\t\t\tgetToken() === null ? (\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t) : (\r\n\t\t\t\t<Redirect\r\n\t\t\t\t\tto={{\r\n\t\t\t\t\t\tpathname: \"/app\",\r\n\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t/>\r\n);\r\nexport default class App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<PrivateRouteSigned component={SignIn} exact path=\"/\" />\r\n\t\t\t\t\t\t\t<PrivateRoute component={Main} path=\"/app\" />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Router>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}